<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>SpringCloud on</title><link>https://www.springcloud.io/docs/springcloud/</link><description>Recent content in SpringCloud on</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Tue, 06 Oct 2020 08:48:23 +0000</lastBuildDate><atom:link href="https://www.springcloud.io/docs/springcloud/index.xml" rel="self" type="application/rss+xml"/><item><title>Spring Cloud Alibaba</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-alibaba/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-alibaba/</guid><description>Spring Cloud Alibabaä¸ºåˆ†å¸ƒå¼åº”ç”¨å¼€å‘æä¾›äº†ä¸€ä¸ªä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚å®ƒåŒ…å«äº†å¼€å‘åˆ†å¸ƒå¼åº”ç”¨æ‰€éœ€çš„æ‰€æœ‰ç»„ä»¶ï¼Œä½¿ä½ èƒ½å¤Ÿè½»æ¾åœ°ä½¿ç”¨Spring Cloudå¼€å‘ä½ çš„åº”ç”¨ã€‚
é€šè¿‡Spring Cloud Alibabaï¼Œä½ åªéœ€è¦æ·»åŠ ä¸€äº›æ³¨é‡Šå’Œå°‘é‡çš„é…ç½®ï¼Œå°±å¯ä»¥å°†Spring Cloudåº”ç”¨ä¸é˜¿é‡Œå·´å·´çš„åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆè¿æ¥èµ·æ¥ï¼Œå¹¶åˆ©ç”¨é˜¿é‡Œå·´å·´çš„ä¸­é—´ä»¶å»ºç«‹ä¸€ä¸ªåˆ†å¸ƒå¼åº”ç”¨ç³»ç»Ÿã€‚
å®˜æ–¹ä»“åº“ https://github.com/alibaba/spring-cloud-alibaba/wiki
å®˜æ–¹å„ä¸ªç»„ä»¶éƒ½æœ‰ååˆ†ä¼˜ç§€çš„ä¸­æ–‡æ–‡æ¡£ï¼Œè¿™é‡Œå°±ä¸ç¿»è¯‘äº†ã€‚</description></item><item><title>Spring Cloud Bus</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-bus/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-bus/</guid><description>å½“å‰ç‰ˆæœ¬ï¼š3.0.2 ä¿®æ”¹æ—¶é—´ï¼š2021å¹´7æœˆ22æ—¥ å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-cloud-bus/docs/current/reference/html/ æºç ä»“åº“ï¼šhttps://github.com/spring-cloud/spring-cloud-bus Spring Cloud Buså°†åˆ†å¸ƒå¼ç³»ç»Ÿçš„èŠ‚ç‚¹ä¸ä¸€ä¸ªè½»é‡çº§çš„æ¶ˆæ¯ä»£ç†è”ç³»èµ·æ¥ã€‚ç„¶åï¼Œè¿™å¯ä»¥ç”¨æ¥å¹¿æ’­çŠ¶æ€å˜åŒ–ï¼ˆå¦‚é…ç½®å˜åŒ–ï¼‰æˆ–å…¶ä»–ç®¡ç†æŒ‡ä»¤ã€‚è¯¥é¡¹ç›®åŒ…æ‹¬AMQPå’ŒKafkaä»£ç†çš„å®ç°ã€‚å¦å¤–ï¼Œåœ¨classpathä¸Šæ‰¾åˆ°çš„ä»»ä½•Spring Cloud Streamç»‘å®šå™¨éƒ½å¯ä»¥ä½œä¸ºä¼ è¾“å·¥å…·å¼€ç®±å³ç”¨ã€‚
1. å¿«é€Ÿå¼€å§‹ å¦‚æœSpring Cloud Busåœ¨classpathä¸Šæ£€æµ‹åˆ°è‡ªå·±ï¼Œå®ƒå°±ä¼šé€šè¿‡æ·»åŠ Spring Bootè‡ªåŠ¨é…ç½®æ¥å·¥ä½œã€‚è¦å¯ç”¨æ€»çº¿ï¼Œè¯·å°†spring-cloud-starter-bus-amqpæˆ–spring-cloud-starter-bus-kafkaæ·»åŠ åˆ°æ‚¨çš„ä¾èµ–æ€§ç®¡ç†ä¸­ã€‚Spring Cloudä¼šå¤„ç†å‰©ä¸‹çš„äº‹æƒ…ã€‚ç¡®ä¿ä»£ç†ï¼ˆRabbitMQæˆ–Kafkaï¼‰æ˜¯å¯ç”¨çš„å¹¶å·²é…ç½®ã€‚å½“åœ¨æœ¬åœ°ä¸»æœºä¸Šè¿è¡Œæ—¶ï¼Œä½ ä¸éœ€è¦åšä»»ä½•äº‹æƒ…ã€‚å¦‚æœä½ è¿œç¨‹è¿è¡Œï¼Œè¯·ä½¿ç”¨Spring Cloud Connectorsæˆ–Spring Bootçº¦å®šæ¥å®šä¹‰ä»£ç†å‡­è¯ï¼Œå¦‚ä¸‹é¢Rabbitçš„ä¾‹å­æ‰€ç¤ºã€‚
application.yml
spring:rabbitmq:host:mybroker.comport:5672username:userpassword:secretæ€»çº¿ç›®å‰æ”¯æŒå‘æ‰€æœ‰ç›‘å¬çš„èŠ‚ç‚¹æˆ–æŸä¸€ç‰¹å®šæœåŠ¡çš„æ‰€æœ‰èŠ‚ç‚¹å‘é€æ¶ˆæ¯ï¼ˆç”±Eurekaå®šä¹‰ï¼‰ã€‚/bus/*æ‰§è¡Œå™¨å‘½åç©ºé—´æœ‰ä¸€äº›HTTPç«¯ç‚¹ã€‚ç›®å‰ï¼Œæœ‰ä¸¤ä¸ªå·²ç»å®ç°ã€‚ç¬¬ä¸€ä¸ªï¼Œ/bus/envï¼Œå‘é€é”®/å€¼å¯¹ä»¥æ›´æ–°æ¯ä¸ªèŠ‚ç‚¹çš„Springç¯å¢ƒã€‚ç¬¬äºŒä¸ªï¼Œ/bus/refreshï¼Œé‡æ–°åŠ è½½æ¯ä¸ªåº”ç”¨ç¨‹åºçš„é…ç½®ï¼Œå°±åƒå®ƒä»¬éƒ½è¢«pingåˆ°äº†/refreshç«¯ç‚¹ä¸€æ ·ã€‚
Spring Cloud Busçš„å¯åŠ¨ç¨‹åºæ¶µç›–äº†Rabbitå’ŒKafkaï¼Œå› ä¸ºè¿™æ˜¯æœ€å¸¸è§çš„ä¸¤ç§å®ç°æ–¹å¼ã€‚ç„¶è€Œï¼ŒSpring Cloud Streamæ˜¯ç›¸å½“çµæ´»çš„ï¼Œè€Œä¸”è¯¥ç»‘å®šå™¨ä¸spring-cloud-busä¸€èµ·ä½¿ç”¨ã€‚
2. Actuator ç«¯ç‚¹ Spring Cloud Busæä¾›äº†ä¸¤ä¸ªç«¯ç‚¹ï¼Œ/actuator/busrefreshå’Œ/actuator/busenvï¼Œåˆ†åˆ«å¯¹åº”äºSpring Cloud Commonsä¸­çš„å•ä¸ªæ‰§è¡Œå™¨ç«¯ç‚¹/actuator/refreshå’Œ/actuator/envã€‚
2.1. Refresh Endpoint /actuator/busrefreshç«¯ç‚¹æ¸…é™¤RefreshScopeç¼“å­˜å¹¶é‡æ–°ç»‘å®š@ConfigurationPropertiesã€‚æ›´å¤šä¿¡æ¯è¯·å‚è§ Refresh Scope æ–‡æ¡£ã€‚
ä¸ºäº†æš´éœ²/actuator/busrefreshç«¯ç‚¹ï¼Œä½ éœ€è¦å‘ä½ çš„åº”ç”¨ç¨‹åºæ·»åŠ ä»¥ä¸‹é…ç½®ã€‚
management.endpoints.web.exposure.include=busrefresh 2.2. Env Endpoint /actuator/busenvç«¯ç‚¹ç”¨æŒ‡å®šçš„é”®/å€¼å¯¹åœ¨å¤šä¸ªå®ä¾‹ä¸­æ›´æ–°æ¯ä¸ªå®ä¾‹ç¯å¢ƒã€‚
ä¸ºäº†æš´éœ²/actuator/busenvç«¯ç‚¹ï¼Œä½ éœ€è¦åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ã€‚
management.endpoints.web.exposure.include=busenv /actuator/busenvç«¯ç‚¹æ¥å—POSTè¯·æ±‚ï¼Œè¯·æ±‚ä½“æ ¼å¼å¦‚ä¸‹ã€‚
{ &amp;#34;name&amp;#34;: &amp;#34;key1&amp;#34;, &amp;#34;value&amp;#34;: &amp;#34;value1&amp;#34; } 3. å¯¹ä¸€ä¸ªå®ä¾‹è¿›è¡Œå¯»å€ åº”ç”¨ç¨‹åºçš„æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªæœåŠ¡IDï¼Œå…¶å€¼å¯ä»¥ç”¨spring.cloud.bus.idæ¥è®¾ç½®ï¼Œå…¶å€¼é¢„è®¡æ˜¯ä¸€ä¸ªç”¨å†’å·åˆ†éš”çš„æ ‡è¯†ç¬¦åˆ—è¡¨ï¼Œä»æœ€ä¸å…·ä½“åˆ°æœ€å…·ä½“çš„é¡ºåºã€‚é»˜è®¤å€¼ä»ç¯å¢ƒä¸­æ„å»ºï¼Œä½œä¸ºspring.application.nameå’Œserver.portçš„ç»„åˆï¼ˆæˆ–spring.application.indexï¼Œå¦‚æœè®¾ç½®ï¼‰ã€‚IDçš„é»˜è®¤å€¼æ˜¯ä»¥app:index:idçš„å½¢å¼æ„å»ºçš„ï¼Œå…¶ä¸­ã€‚
appæ˜¯vcap.application.nameï¼Œå¦‚æœå®ƒå­˜åœ¨çš„è¯ï¼Œæˆ–è€…æ˜¯spring.application.nameã€‚ indexæ˜¯vcap.application.instance_indexï¼Œå¦‚æœå®ƒå­˜åœ¨çš„è¯ï¼Œspring.application.indexï¼Œlocal.server.portï¼Œserver.portæˆ–0ï¼ˆæŒ‰é¡ºåºæ’åˆ—ï¼‰ã€‚ idæ˜¯vcap.application.instance_idï¼Œå¦‚æœå®ƒå­˜åœ¨ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªéšæœºå€¼ã€‚ HTTP ç«¯ç‚¹æ¥å—ä¸€ä¸ª &amp;ldquo;destination&amp;rdquo; è·¯å¾„å‚æ•°ï¼Œå¦‚/busrefresh/customers:9000ï¼Œå…¶ä¸­ç›®çš„åœ°æ˜¯ä¸€ä¸ªæœåŠ¡ IDã€‚å¦‚æœè¯¥IDä¸ºæ€»çº¿ä¸Šçš„ä¸€ä¸ªå®ä¾‹æ‰€æ‹¥æœ‰ï¼Œå®ƒå°±ä¼šå¤„ç†è¯¥æ¶ˆæ¯ï¼Œè€Œæ‰€æœ‰å…¶ä»–å®ä¾‹éƒ½ä¼šå¿½ç•¥å®ƒã€‚</description></item><item><title>Spring Cloud Circuit Breaker</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-circuit-breaker/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-circuit-breaker/</guid><description>å½“å‰ç‰ˆæœ¬ï¼š2.0.2 ä¿®æ”¹æ—¶é—´ï¼š2021å¹´7æœˆ22æ—¥ å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-cloud-circuitbreaker/docs/current/reference/html/ æºç ä»“åº“ï¼šhttps://github.com/spring-cloud/spring-cloud-circuitbreaker Spring Cloud Circuit breakeræä¾›äº†ä¸€ä¸ªè·¨è¶Šä¸åŒæ–­è·¯å™¨å®ç°çš„æŠ½è±¡ã€‚å®ƒæä¾›äº†ä¸€ä¸ªä¸€è‡´çš„APIï¼Œå¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ï¼Œå…è®¸ä½ çš„å¼€å‘è€…é€‰æ‹©æœ€é€‚åˆä½ çš„åº”ç”¨ç¨‹åºéœ€æ±‚çš„æ–­è·¯å™¨å®ç°ã€‚
1. ä½¿ç”¨è¯´æ˜ Spring Cloud CircuitBreakeré¡¹ç›®åŒ…å«Resilience4Jå’ŒSpring Retryçš„å®ç°ã€‚Spring Cloud CircuitBreakerä¸­å®ç°çš„APIåœ¨Spring Cloud Commonsä¸­å­˜åœ¨ã€‚è¿™äº›APIçš„ä½¿ç”¨æ–‡æ¡£ä½äºSpring Cloud Commons documentationä¸­ã€‚
1.1. é…ç½®Resilience4Jæ–­è·¯å™¨ 1.1.1. Starters Resilience4Jçš„å®ç°æœ‰ä¸¤ä¸ªå¯åŠ¨å™¨ï¼Œä¸€ä¸ªç”¨äºreactiveåº”ç”¨ï¼Œä¸€ä¸ªç”¨äºéreactiveåº”ç”¨ã€‚
org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j - éreactiveåº”ç”¨ç¨‹åº org.springframework.cloud:spring-cloud-starter-circuitbreaker-reactor-resilience4j - reactiveåº”ç”¨ç¨‹åº 1.1.2. è‡ªåŠ¨é…ç½® ä½ å¯ä»¥é€šè¿‡è®¾ç½®spring.cloud.circuitbreaker.resilience4j.enabledä¸ºfalseæ¥ç¦ç”¨Resilience4Jè‡ªåŠ¨é…ç½®ã€‚
1.1.3. é»˜è®¤é…ç½® ä¸ºäº†ç»™æ‰€æœ‰çš„æ–­è·¯å™¨æä¾›ä¸€ä¸ªé»˜è®¤çš„é…ç½®ï¼Œåˆ›å»ºä¸€ä¸ªCustomize beanï¼Œå®ƒè¢«ä¼ é€’ç»™Resilience4JCircuitBreakerFactoryæˆ–ReactiveResilience4JCircuitBreakerFactoryã€‚configureDefaultæ–¹æ³•å¯ä»¥ç”¨æ¥æä¾›ä¸€ä¸ªé»˜è®¤çš„é…ç½®ã€‚
@Bean public Customizer&amp;lt;Resilience4JCircuitBreakerFactory&amp;gt; defaultCustomizer() { return factory -&amp;gt; factory.configureDefault(id -&amp;gt; new Resilience4JConfigBuilder(id) .timeLimiterConfig(TimeLimiterConfig.custom().timeoutDuration(Duration.ofSeconds(4)).build()) .circuitBreakerConfig(CircuitBreakerConfig.ofDefaults()) .build()); } Reactive Example
@Bean public Customizer&amp;lt;ReactiveResilience4JCircuitBreakerFactory&amp;gt; defaultCustomizer() { return factory -&amp;gt; factory.configureDefault(id -&amp;gt; new Resilience4JConfigBuilder(id) .</description></item><item><title>Spring Cloud Config</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-config/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-config/</guid><description>å½“å‰ç‰ˆæœ¬ï¼š3.0.4 ä¿®æ”¹æ—¶é—´ï¼š2021å¹´7æœˆ23æ—¥ å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-cloud-netflix/docs/current/reference/html/ æºç ä»“åº“ï¼šhttps://github.com/spring-cloud/spring-cloud-netflix Spring Cloud Configä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤–éƒ¨åŒ–é…ç½®æä¾›æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ”¯æŒã€‚æœ‰äº†é…ç½®æœåŠ¡å™¨ï¼Œä½ å°±æœ‰äº†ä¸€ä¸ªé›†ä¸­çš„åœ°æ–¹æ¥ç®¡ç†æ‰€æœ‰ç¯å¢ƒä¸­çš„åº”ç”¨ç¨‹åºçš„å¤–éƒ¨å±æ€§ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸Šçš„æ¦‚å¿µä¸Spring Environmentå’ŒPropertySourceæŠ½è±¡å®Œå…¨ä¸€è‡´ï¼Œå› æ­¤å®ƒä»¬éå¸¸é€‚ç”¨äºSpringåº”ç”¨ç¨‹åºï¼Œä½†ä¹Ÿå¯ç”¨äºä»¥ä»»ä½•è¯­è¨€è¿è¡Œçš„ä»»ä½•åº”ç”¨ç¨‹åºã€‚å½“ä¸€ä¸ªåº”ç”¨ç¨‹åºé€šè¿‡éƒ¨ç½²æ¸ é“ä»å¼€å‘åˆ°æµ‹è¯•å†åˆ°ç”Ÿäº§æ—¶ï¼Œä½ å¯ä»¥ç®¡ç†è¿™äº›ä¸åŒç¯å¢ƒä¹‹é—´çš„é…ç½®ï¼Œå¹¶ç¡®å®šåº”ç”¨ç¨‹åºåœ¨è¿ç§»æ—¶æ‹¥æœ‰è¿è¡Œæ‰€éœ€çš„ä¸€åˆ‡ã€‚æœåŠ¡å™¨å­˜å‚¨åç«¯çš„é»˜è®¤å®ç°ä½¿ç”¨gitï¼Œå› æ­¤å®ƒå¯ä»¥è½»æ¾åœ°æ”¯æŒæ ‡ç­¾ç‰ˆæœ¬çš„é…ç½®ç¯å¢ƒï¼Œä»¥åŠå¯ç”¨äºç®¡ç†å†…å®¹çš„å¹¿æ³›å·¥å…·ã€‚å¾ˆå®¹æ˜“æ·»åŠ å…¶ä»–çš„å®ç°ï¼Œå¹¶å°†å®ƒä»¬ä¸Springé…ç½®è¿æ¥èµ·æ¥ã€‚
1. å¿«é€Ÿå¼€å§‹ è¿™ç¯‡å¿«é€Ÿå…¥é—¨æ–‡ç« ä»‹ç»äº†Spring Cloud Config Serverçš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„ä½¿ç”¨æƒ…å†µã€‚
é¦–å…ˆï¼Œå¯åŠ¨æœåŠ¡å™¨ï¼Œå¦‚ä¸‹:
$ cd spring-cloud-config-server $ ../mvnw spring-boot:run æœåŠ¡å™¨æ˜¯ä¸€ä¸ª Spring Boot åº”ç”¨ç¨‹åºï¼Œå› æ­¤å¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥ä» IDE ä¸­è¿è¡Œå®ƒ(ä¸»ç±»æ˜¯ ConfigServerApplication)ã€‚
æ¥ä¸‹æ¥å°è¯•ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå¦‚ä¸‹æ‰€ç¤º:
$ curl localhost:8888/foo/development { &amp;#34;name&amp;#34;: &amp;#34;foo&amp;#34;, &amp;#34;profiles&amp;#34;: [ &amp;#34;development&amp;#34; ] .... &amp;#34;propertySources&amp;#34;: [ { &amp;#34;name&amp;#34;: &amp;#34;https://github.com/spring-cloud-samples/config-repo/foo-development.properties&amp;#34;, &amp;#34;source&amp;#34;: { &amp;#34;bar&amp;#34;: &amp;#34;spam&amp;#34;, &amp;#34;foo&amp;#34;: &amp;#34;from foo development&amp;#34; } }, { &amp;#34;name&amp;#34;: &amp;#34;https://github.com/spring-cloud-samples/config-repo/foo.properties&amp;#34;, &amp;#34;source&amp;#34;: { &amp;#34;foo&amp;#34;: &amp;#34;from foo props&amp;#34;, &amp;#34;democonfigclient.message&amp;#34;: &amp;#34;hello spring io&amp;#34; } }, .</description></item><item><title>Spring Cloud Consul</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-consul/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-consul/</guid><description>å½“å‰ç‰ˆæœ¬ï¼š3.0.3 ä¿®æ”¹æ—¶é—´ï¼š2021å¹´7æœˆ23æ—¥ å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-cloud-consul/docs/current/reference/html/ æºç ä»“åº“ï¼šhttps://github.com/spring-cloud/spring-cloud-consul è¯¥é¡¹ç›®é€šè¿‡è‡ªåŠ¨é…ç½®å’Œä¸Springç¯å¢ƒåŠå…¶ä»–Springç¼–ç¨‹æ¨¡å‹ä¹ è¯­çš„ç»‘å®šï¼Œä¸ºSpring Bootåº”ç”¨ç¨‹åºæä¾›Consulé›†æˆã€‚é€šè¿‡ä¸€äº›ç®€å•çš„æ³¨è§£ï¼Œä½ å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å¿«é€Ÿå¯ç”¨å’Œé…ç½®å¸¸è§çš„æ¨¡å¼ï¼Œå¹¶ä½¿ç”¨åŸºäºConsulçš„ç»„ä»¶æ„å»ºå¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿã€‚æä¾›çš„æ¨¡å¼åŒ…æ‹¬æœåŠ¡å‘ç°ã€æ§åˆ¶æ€»çº¿å’Œé…ç½®ã€‚é€šè¿‡ä¸å…¶ä»–Spring Cloudé¡¹ç›®çš„é›†æˆï¼Œæä¾›äº†æ™ºèƒ½è·¯ç”±å’Œå®¢æˆ·ç«¯è´Ÿè½½å¹³è¡¡ã€æ–­è·¯å™¨ã€‚
1. å¿«é€Ÿå¼€å§‹ è¿™ç¯‡å¿«é€Ÿå…¥é—¨æŒ‡å—ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Spring Cloud Consulè¿›è¡ŒæœåŠ¡å‘ç°å’Œåˆ†å¸ƒå¼é…ç½®ã€‚
é¦–å…ˆï¼Œåœ¨ä½ çš„æœºå™¨ä¸Šè¿è¡ŒConsul Agentã€‚ç„¶åä½ å°±å¯ä»¥è®¿é—®å®ƒï¼Œå¹¶å°†å…¶ä½œä¸ºSpring Cloud Consulçš„æœåŠ¡æ³¨å†Œå’Œé…ç½®æºã€‚
1.1. æœåŠ¡å‘ç° è¦åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œä½ å¯ä»¥å°†å…¶æ„å»ºä¸ºä¸€ä¸ªä¾èµ–spring-cloud-consul-coreçš„Spring Bootåº”ç”¨ç¨‹åºã€‚æ·»åŠ ä¾èµ–çš„æœ€æ–¹ä¾¿æ–¹å¼æ˜¯ä½¿ç”¨Spring Bootå¯åŠ¨å™¨ï¼šorg.springframework.cloud:spring-cloud-starter-consul-discoveryã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨ä¾èµ–æ€§ç®¡ç†å’Œspring-boot-starter-parentã€‚
ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„Mavené…ç½®ã€‚
pom.xml
&amp;lt;project&amp;gt; &amp;lt;parent&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-starter-parent&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;{spring-boot-version}&amp;lt;/version&amp;gt; &amp;lt;relativePath/&amp;gt; &amp;lt;!-- lookup parent from repository --&amp;gt; &amp;lt;/parent&amp;gt; &amp;lt;dependencies&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-cloud-starter-consul-discovery&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-starter-test&amp;lt;/artifactId&amp;gt; &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;/dependencies&amp;gt; &amp;lt;dependencyManagement&amp;gt; &amp;lt;dependencies&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-cloud-dependencies&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;${spring-cloud.version}&amp;lt;/version&amp;gt; &amp;lt;type&amp;gt;pom&amp;lt;/type&amp;gt; &amp;lt;scope&amp;gt;import&amp;lt;/scope&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;/dependencies&amp;gt; &amp;lt;/dependencyManagement&amp;gt; &amp;lt;build&amp;gt; &amp;lt;plugins&amp;gt; &amp;lt;plugin&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt; &amp;lt;/plugin&amp;gt; &amp;lt;/plugins&amp;gt; &amp;lt;/build&amp;gt; &amp;lt;/project&amp;gt; ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„Gradleè®¾ç½®ã€‚</description></item><item><title>Spring Cloud Gateway</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-gateway/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-gateway/</guid><description>å½“å‰ç‰ˆæœ¬ï¼š3.0.3 ä¿®æ”¹æ—¶é—´ï¼š2021å¹´7æœˆ23æ—¥ å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/ æºç ä»“åº“ï¼šhttps://github.com/spring-cloud/spring-cloud-gateway è¿™ä¸ªé¡¹ç›®æä¾›äº†ä¸€ä¸ªå»ºç«‹åœ¨Springç”Ÿæ€ç³»ç»Ÿä¹‹ä¸Šçš„APIç½‘å…³ï¼ŒåŒ…æ‹¬ã€‚Spring 5ã€Spring Boot 2å’ŒProject Reactorã€‚Spring Cloud Gatewayæ—¨åœ¨æä¾›ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„æ–¹å¼æ¥è·¯ç”±åˆ°APIï¼Œå¹¶æä¾›è·¨é¢†åŸŸçš„å…³æ³¨ï¼Œå¦‚ï¼šå®‰å…¨ã€ç›‘æ§/æŒ‡æ ‡å’Œå¼¹æ€§ã€‚
1. æ·»åŠ Spring Cloud Gateway è¦åœ¨ä½ çš„é¡¹ç›®ä¸­åŒ…å«Spring Cloud Gatewayï¼Œè¯·ä½¿ç”¨grup IDä¸ºorg.springframework.cloudå’Œartifact IDä¸ºspring-cloud-starter-gatewayçš„starterã€‚è¯·å‚é˜…Spring Cloudé¡¹ç›®é¡µé¢ï¼Œäº†è§£å…³äºä½¿ç”¨å½“å‰Spring Cloudå‘å¸ƒåˆ—è½¦è®¾ç½®æ„å»ºç³»ç»Ÿçš„è¯¦ç»†ä¿¡æ¯ã€‚
å¦‚æœä½ åŒ…å«äº†starterï¼Œä½†ä½ ä¸å¸Œæœ›å¯ç”¨ç½‘å…³ï¼Œè¯·è®¾ç½®spring.cloud.gateway.enabled=falseã€‚
Spring Cloud Gatewayå»ºç«‹åœ¨Spring Boot 2.xã€Spring WebFluxå’ŒProject Reactorä¹‹ä¸Šã€‚å› æ­¤ï¼Œä½ æ‰€ç†Ÿæ‚‰çš„è®¸å¤šåŒæ­¥åº“ï¼ˆä¾‹å¦‚Spring Dataå’ŒSpring Securityï¼‰å’Œæ¨¡å¼åœ¨ä½ ä½¿ç”¨Spring Cloud Gatewayæ—¶å¯èƒ½ä¸é€‚ç”¨ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰è¿™äº›é¡¹ç›®ï¼Œæˆ‘ä»¬å»ºè®®ä½ åœ¨ä½¿ç”¨Spring Cloud Gatewayä¹‹å‰å…ˆé˜…è¯»å®ƒä»¬çš„æ–‡æ¡£ï¼Œç†Ÿæ‚‰ä¸€äº›æ–°çš„æ¦‚å¿µã€‚
Spring Cloud Gatewayéœ€è¦Spring Bootå’ŒSpring Webfluxæä¾›çš„Nettyè¿è¡Œæ—¶é—´ã€‚å®ƒä¸èƒ½åœ¨ä¼ ç»Ÿçš„Servletå®¹å™¨ä¸­å·¥ä½œï¼Œä¹Ÿä¸èƒ½ä»¥WARçš„å½¢å¼æ„å»ºã€‚
2. æœ¯è¯­è¡¨ Routeã€‚ç½‘å…³çš„åŸºæœ¬æ„é€ å—ã€‚å®ƒç”±ä¸€ä¸ªIDã€ä¸€ä¸ªç›®çš„åœ°URIã€ä¸€ä¸ªè°“è¯é›†åˆå’Œä¸€ä¸ªè¿‡æ»¤å™¨é›†åˆå®šä¹‰ã€‚å¦‚æœé›†åˆè°“è¯ä¸ºçœŸï¼Œåˆ™è·¯ç”±è¢«åŒ¹é…ã€‚ Predicateã€‚è¿™æ˜¯ä¸€ä¸ªJava 8 Function Predicateã€‚è¾“å…¥ç±»å‹æ˜¯ä¸€ä¸ªSpring Framework ServerWebExchangeã€‚è¿™è®©ä½ å¯ä»¥åŒ¹é…HTTPè¯·æ±‚ä¸­çš„ä»»ä½•å†…å®¹ï¼Œå¦‚å¤´æ–‡ä»¶æˆ–å‚æ•°ã€‚ Filterã€‚è¿™äº›æ˜¯GatewayFilterçš„å®ä¾‹ï¼Œå·²ç»ç”¨ç‰¹å®šçš„å·¥å‚æ„å»ºã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥åœ¨å‘é€ä¸‹æ¸¸è¯·æ±‚ä¹‹å‰æˆ–ä¹‹åä¿®æ”¹è¯·æ±‚å’Œå“åº”ã€‚ 3. å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ ä¸‹å›¾æä¾›äº†ä¸€ä¸ªå…³äºSpring Cloud Gatewayå¦‚ä½•å·¥ä½œçš„é«˜å±‚æ¬¡æ¦‚è¿°ã€‚
å®¢æˆ·ç«¯å‘Spring Cloud Gatewayå‘å‡ºè¯·æ±‚ã€‚å¦‚æœGatewayå¤„ç†ç¨‹åºæ˜ å°„ç¡®å®šä¸€ä¸ªè¯·æ±‚ä¸è·¯ç”±ç›¸åŒ¹é…ï¼Œå®ƒå°†è¢«å‘é€åˆ°Gateway Webå¤„ç†ç¨‹åºã€‚è¿™ä¸ªå¤„ç†ç¨‹åºé€šè¿‡ä¸€ä¸ªç‰¹å®šäºè¯¥è¯·æ±‚çš„è¿‡æ»¤å™¨é“¾æ¥è¿è¡Œè¯¥è¯·æ±‚ã€‚è¿‡æ»¤å™¨è¢«è™šçº¿åˆ’åˆ†çš„åŸå› æ˜¯ï¼Œè¿‡æ»¤å™¨å¯ä»¥åœ¨ä»£ç†è¯·æ±‚å‘é€ä¹‹å‰å’Œä¹‹åè¿è¡Œé€»è¾‘ã€‚æ‰€æœ‰çš„ &amp;ldquo;pre&amp;quot;è¿‡æ»¤å™¨é€»è¾‘éƒ½è¢«æ‰§è¡Œã€‚ç„¶åå‘å‡ºä»£ç†è¯·æ±‚ã€‚åœ¨ä»£ç†è¯·æ±‚å‘å‡ºåï¼Œ&amp;ldquo;post&amp;quot;è¿‡æ»¤å™¨é€»è¾‘è¢«è¿è¡Œã€‚
åœ¨è·¯ç”±ä¸­å®šä¹‰çš„æ²¡æœ‰ç«¯å£çš„URIï¼Œå…¶HTTPå’ŒHTTPS URIçš„é»˜è®¤ç«¯å£å€¼åˆ†åˆ«ä¸º80å’Œ443ã€‚</description></item><item><title>Spring Cloud Kubernetes</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-kubernetes/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-kubernetes/</guid><description>å½“å‰ç‰ˆæœ¬ï¼š2.0.3 ä¿®æ”¹æ—¶é—´ï¼š2021å¹´7æœˆ24æ—¥ å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/ æºç ä»“åº“ï¼šhttps://github.com/spring-projects/spring-cloud 1. ä¸ºä»€ä¹ˆéœ€è¦Spring Cloud Kubernetesï¼Ÿ Spring Cloud Kubernetesæä¾›äº†ä¼—æ‰€å‘¨çŸ¥çš„Spring Cloudæ¥å£çš„å®ç°ï¼Œå…è®¸å¼€å‘è€…åœ¨Kubernetesä¸Šæ„å»ºå’Œè¿è¡ŒSpring Cloudåº”ç”¨ã€‚è™½ç„¶è¿™ä¸ªé¡¹ç›®åœ¨æ„å»ºäº‘åŸç”Ÿåº”ç”¨æ—¶å¯èƒ½å¯¹ä½ æœ‰ç”¨ï¼Œä½†å®ƒä¹Ÿä¸æ˜¯åœ¨Kubernetesä¸Šéƒ¨ç½²Spring Bootåº”ç”¨çš„å¿…è¦æ¡ä»¶ã€‚å¦‚æœä½ åˆšåˆšå¼€å§‹åœ¨Kubernetesä¸Šè¿è¡Œä½ çš„Spring Bootåº”ç”¨ï¼Œä½ åªéœ€è¦ä¸€ä¸ªåŸºæœ¬çš„Spring Bootåº”ç”¨å’ŒKubernetesæœ¬èº«å°±å¯ä»¥å®Œæˆå¾ˆå¤šäº‹æƒ…ã€‚è¦æƒ³äº†è§£æ›´å¤šï¼Œä½ å¯ä»¥é€šè¿‡é˜…è¯»Spring Bootéƒ¨ç½²åˆ°Kubernetesçš„å‚è€ƒæ–‡æ¡£ï¼Œä»¥åŠé€šè¿‡ç ”è®¨ä¼šææ–™Springå’ŒKubernetesæ¥å¼€å§‹ã€‚
2. Starters Startersæ˜¯æ–¹ä¾¿çš„ä¾èµ–æ€§æè¿°ç¬¦ï¼Œä½ å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­åŒ…å«å®ƒã€‚åŒ…æ‹¬ä¸€ä¸ªstarterï¼Œä»¥è·å¾—åŠŸèƒ½é›†çš„ä¾èµ–æ€§å’ŒSpring Bootè‡ªåŠ¨é…ç½®ã€‚ä»¥spring-cloud-starter-kubernetes-fabric8å¼€å¤´çš„å¯åŠ¨å™¨æä¾›äº†ä½¿ç”¨Fabric8 Kubernetes Java Clientçš„å®ç°ã€‚ä»¥spring-cloud-starter-kubernetes-clientå¼€å¤´çš„å¯åŠ¨å™¨æä¾›äº†ä½¿ç”¨Kubernetes Java Clientçš„å®ç°ã€‚
2.1. æœåŠ¡å‘å® &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-cloud-starter-kubernetes-fabric8&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-cloud-starter-kubernetes-client&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; Discovery Clientå®ç°ï¼Œå°†æœåŠ¡åç§°è§£æä¸ºKubernetesæœåŠ¡ã€‚
2.2. é…ç½®ä¸­å¿ƒ &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-cloud-starter-kubernetes-fabric8-config&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-cloud-starter-kubernetes-client-config&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; ä»KubernetesConfigMapså’ŒSecretsåŠ è½½åº”ç”¨å±æ€§ã€‚å½“ConfigMapæˆ–Secretå‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°åŠ è½½åº”ç”¨ç¨‹åºå±æ€§ã€‚
2.3. æ‰€æœ‰Spring Cloud KubernetesåŠŸèƒ½ã€‚ &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-cloud-starter-kubernetes-fabric8-all&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-cloud-starter-kubernetes-client-all&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; 3. ç”¨äºKubernetesçš„DiscoveryClient è¯¥é¡¹ç›®ä¸ºKubernetesæä¾›äº†Discovery Clientçš„å®ç°ã€‚è¿™ä¸ªå®¢æˆ·ç«¯å¯ä»¥è®©ä½ æŒ‰åç§°æŸ¥è¯¢Kubernetesç«¯ç‚¹ï¼ˆè§servicesï¼‰ã€‚æœåŠ¡é€šå¸¸ç”±Kubernetes APIæœåŠ¡å™¨å…¬å¼€ï¼Œä½œä¸ºä»£è¡¨ http å’Œ https åœ°å€çš„ç«¯ç‚¹çš„é›†åˆï¼Œå®¢æˆ·ç«¯å¯ä»¥ä»ä½œä¸ºpodè¿è¡Œçš„Spring Bootåº”ç”¨ç¨‹åºä¸­è®¿é—®ã€‚</description></item><item><title>Spring Cloud Netflix</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-netflix/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-netflix/</guid><description>å½“å‰ç‰ˆæœ¬ï¼š3.0.3 ä¿®æ”¹æ—¶é—´ï¼š2021å¹´7æœˆ22æ—¥ å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-cloud-netflix/docs/current/reference/html/ æºç ä»“åº“ï¼šhttps://github.com/spring-cloud/spring-cloud-netflix Spring Cloud Netflixé€šè¿‡è‡ªåŠ¨é…ç½®å’Œç»‘å®šåˆ°Springç¯å¢ƒå’Œå…¶ä»–Springç¼–ç¨‹æ¨¡å‹ä¹ è¯­ï¼Œä¸ºSpring Bootåº”ç”¨æä¾›äº†Netflix OSSé›†æˆã€‚é€šè¿‡ä¸€äº›ç®€å•çš„æ³¨é‡Šï¼Œæ‚¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­å¿«é€Ÿå¯ç”¨å’Œé…ç½®é€šç”¨æ¨¡å¼ï¼Œå¹¶ä½¿ç”¨ç»è¿‡å®æˆ˜è€ƒéªŒçš„Netflixç»„ä»¶æ„å»ºå¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿã€‚æä¾›çš„æ¨¡å¼åŒ…æ‹¬æœåŠ¡å‘ç°(Eureka)ã€æ–­è·¯å™¨(Hystrix)ã€æ™ºèƒ½è·¯ç”±(Zuul)å’Œå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡(Ribbon)ã€‚
1. æœåŠ¡å‘ç°ï¼šEureka Clinet æœåŠ¡å‘ç°æ˜¯åŸºäºå¾®æœåŠ¡çš„ä½“ç³»ç»“æ„çš„å…³é”®åŸåˆ™ä¹‹ä¸€ã€‚å°è¯•æ‰‹åŠ¨é…ç½®æ¯ä¸ªå®¢æˆ·ç«¯æˆ–æŸç§å½¢å¼çš„çº¦å®šå¯èƒ½å¾ˆå›°éš¾ï¼Œè€Œä¸”å¯èƒ½æ˜“æŒ‚ã€‚Netflixçš„æœåŠ¡å‘ç°å™¨å’Œå®¢æˆ·ç«¯Eurekaï¼Œå¯ä»¥å°†æœåŠ¡å™¨é…ç½®å’Œéƒ¨ç½²ä¸ºé«˜å¯ç”¨æ€§ï¼Œæ¯ä¸ªæœåŠ¡å™¨éƒ½å¯ä»¥å°†å·²æ³¨å†ŒæœåŠ¡çš„çŠ¶æ€å¤åˆ¶ç»™å…¶ä»–æœåŠ¡å™¨ã€‚
1.1. å¦‚ä½•å¼•å…¥Eureka Client è¦åœ¨é¡¹ç›®ä¸­åŒ…å«Eureaka Clientï¼Œè¯·ä½¿ç”¨startä¸­gruop IDä¸ºorg.springframework.cloudå’Œartifact IDä¸ºspring-cloud-starter-netflix-eureka-clientçš„åŒ…ï¼Œæœ‰å…³ä½¿ç”¨Spring cloudè®¾ç½®æ„å»ºç³»ç»Ÿçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Spring Cloud Project é¡µé¢ã€‚
1.2. å‘Eurekaæ³¨å†ŒæœåŠ¡ å½“å®¢æˆ·ç«¯å‘Eurekaæ³¨å†Œæ—¶ï¼Œå®ƒä¼šæä¾›å…³äºè‡ªèº«çš„å…ƒæ•°æ®ï¼Œä¾‹å¦‚ä¸»æœºã€ç«¯å£ã€å¥åº·çŠ¶æ€URlã€ä¸»é¡µå’Œå…¶ä»–è¯¦ç»†ä¿¡æ¯ã€‚Eurekaæ¥æ”¶æ¥è‡ªå±äºæŸä¸ªæœåŠ¡çš„æ¯ä¸ªå®ä¾‹çš„å¿ƒè·³æ¶ˆæ¯ã€‚å¦‚æœåœ¨å¯é…ç½®çš„æ—¶é—´å†…æ£€æµ‹å¿ƒè·³å¤±è´¥ï¼Œå®ä¾‹å®¢æˆ·ç«¯é€šå¸¸ä¼šä»æ³¨å†Œä¸­å¿ƒåˆ é™¤ã€‚
ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªæœ€å°çš„Eurekaå®¢æˆ·ç«¯åº”ç”¨ç¨‹åº:
@SpringBootApplication @RestController public class Application { @RequestMapping(&amp;#34;/&amp;#34;) public String home() { return &amp;#34;Hello world&amp;#34;; } public static void main(String[] args) { new SpringApplicationBuilder(Application.class).web(true).run(args); } } æ³¨æ„ï¼Œä¸Šé¢çš„ç¤ºä¾‹åªæ˜¯ä¸€ä¸ªæ™®é€šçš„Spring Bootåº”ç”¨ç¨‹åºã€‚é€šè¿‡åŒ…ç®¡ç†æ–‡ä»¶å¼•å…¥spring-cloud-starter-netflix-Eureka-clientä¾èµ–ï¼Œä½ çš„åº”ç”¨ç¨‹åºå°†è‡ªåŠ¨æ³¨å†Œåˆ°Eureka Serverã€‚å®šä½ EurekaæœåŠ¡å™¨éœ€è¦é…ç½®ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤º:
application.yml
eureka:client:serviceUrl:defaultZone:http://localhost:8761/eureka/åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼ŒdefaultZone æ˜¯ä¸€ä¸ªç¼ºçœå­—ç¬¦ä¸²å›è°ƒå€¼ï¼Œå®ƒä¸ºä»»ä½•ä¸å¡«å†™æ³¨å†Œä¸­å¿ƒåœ°å€çš„å®¢æˆ·ç«¯æä¾›ä¸€ä¸ªé»˜è®¤å€¼ã€‚(æ¢å¥è¯è¯´ï¼šä¸å¡«æ­¤é¡¹ï¼Œeurekaä½¿ç”¨http://localhost:8761/eureka/ä½œä¸ºé»˜è®¤åœ°å€)
ğŸ“ è¿™ä¸ªdefaultZoneå±æ€§æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œå¹¶ä¸”éœ€è¦é©¼å³°å‘½ä»¤æ³•ï¼Œå› ä¸ºserviceUrlå±æ€§æ˜¯Map&amp;lt;String, String&amp;gt;ã€‚å› æ­¤ï¼ŒdefaultZoneå±æ€§ä¸éµå¾ªå¸¸è§„Spring Bootè›‡å½¢å‘½åæ³•çº¦å®šã€‚
é»˜è®¤çš„åº”ç”¨ç¨‹åºåç§°(å³æœåŠ¡ ID)ã€è™šæ‹Ÿä¸»æœºå’Œéå®‰å…¨ç«¯å£(å–è‡ªç¯å¢ƒ)åˆ†åˆ«ä¸º${ spring.</description></item></channel></rss>