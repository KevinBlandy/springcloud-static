<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>SpringCloud on</title><link>https://www.springcloud.io/docs/springcloud/</link><description>Recent content in SpringCloud on</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Tue, 06 Oct 2020 08:48:23 +0000</lastBuildDate><atom:link href="https://www.springcloud.io/docs/springcloud/index.xml" rel="self" type="application/rss+xml"/><item><title>Spring Cloud Alibaba</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-alibaba/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-alibaba/</guid><description>Spring Cloud Alibaba为分布式应用开发提供了一个一站式解决方案。它包含了开发分布式应用所需的所有组件，使你能够轻松地使用Spring Cloud开发你的应用。
通过Spring Cloud Alibaba，你只需要添加一些注释和少量的配置，就可以将Spring Cloud应用与阿里巴巴的分布式解决方案连接起来，并利用阿里巴巴的中间件建立一个分布式应用系统。
官方仓库 https://github.com/alibaba/spring-cloud-alibaba/wiki
官方各个组件都有十分优秀的中文文档，这里就不翻译了。</description></item><item><title>Spring Cloud Bus</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-bus/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-bus/</guid><description>当前版本：3.0.2 修改时间：2021年7月22日 官方文档：https://docs.spring.io/spring-cloud-bus/docs/current/reference/html/ 源码仓库：https://github.com/spring-cloud/spring-cloud-bus Spring Cloud Bus将分布式系统的节点与一个轻量级的消息代理联系起来。然后，这可以用来广播状态变化（如配置变化）或其他管理指令。该项目包括AMQP和Kafka代理的实现。另外，在classpath上找到的任何Spring Cloud Stream绑定器都可以作为传输工具开箱即用。
1. 快速开始 如果Spring Cloud Bus在classpath上检测到自己，它就会通过添加Spring Boot自动配置来工作。要启用总线，请将spring-cloud-starter-bus-amqp或spring-cloud-starter-bus-kafka添加到您的依赖性管理中。Spring Cloud会处理剩下的事情。确保代理（RabbitMQ或Kafka）是可用的并已配置。当在本地主机上运行时，你不需要做任何事情。如果你远程运行，请使用Spring Cloud Connectors或Spring Boot约定来定义代理凭证，如下面Rabbit的例子所示。
application.yml
spring:rabbitmq:host:mybroker.comport:5672username:userpassword:secret总线目前支持向所有监听的节点或某一特定服务的所有节点发送消息（由Eureka定义）。/bus/*执行器命名空间有一些HTTP端点。目前，有两个已经实现。第一个，/bus/env，发送键/值对以更新每个节点的Spring环境。第二个，/bus/refresh，重新加载每个应用程序的配置，就像它们都被ping到了/refresh端点一样。
Spring Cloud Bus的启动程序涵盖了Rabbit和Kafka，因为这是最常见的两种实现方式。然而，Spring Cloud Stream是相当灵活的，而且该绑定器与spring-cloud-bus一起使用。
2. Actuator 端点 Spring Cloud Bus提供了两个端点，/actuator/busrefresh和/actuator/busenv，分别对应于Spring Cloud Commons中的单个执行器端点/actuator/refresh和/actuator/env。
2.1. Refresh Endpoint /actuator/busrefresh端点清除RefreshScope缓存并重新绑定@ConfigurationProperties。更多信息请参见 Refresh Scope 文档。
为了暴露/actuator/busrefresh端点，你需要向你的应用程序添加以下配置。
management.endpoints.web.exposure.include=busrefresh 2.2. Env Endpoint /actuator/busenv端点用指定的键/值对在多个实例中更新每个实例环境。
为了暴露/actuator/busenv端点，你需要在你的应用程序中添加以下配置。
management.endpoints.web.exposure.include=busenv /actuator/busenv端点接受POST请求，请求体格式如下。
{ &amp;#34;name&amp;#34;: &amp;#34;key1&amp;#34;, &amp;#34;value&amp;#34;: &amp;#34;value1&amp;#34; } 3. 对一个实例进行寻址 应用程序的每个实例都有一个服务ID，其值可以用spring.cloud.bus.id来设置，其值预计是一个用冒号分隔的标识符列表，从最不具体到最具体的顺序。默认值从环境中构建，作为spring.application.name和server.port的组合（或spring.application.index，如果设置）。ID的默认值是以app:index:id的形式构建的，其中。
app是vcap.application.name，如果它存在的话，或者是spring.application.name。 index是vcap.application.instance_index，如果它存在的话，spring.application.index，local.server.port，server.port或0（按顺序排列）。 id是vcap.application.instance_id，如果它存在，或者是一个随机值。 HTTP 端点接受一个 &amp;ldquo;destination&amp;rdquo; 路径参数，如/busrefresh/customers:9000，其中目的地是一个服务 ID。如果该ID为总线上的一个实例所拥有，它就会处理该消息，而所有其他实例都会忽略它。</description></item><item><title>Spring Cloud Circuit Breaker</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-circuit-breaker/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-circuit-breaker/</guid><description>当前版本：2.0.2 修改时间：2021年7月22日 官方文档：https://docs.spring.io/spring-cloud-circuitbreaker/docs/current/reference/html/ 源码仓库：https://github.com/spring-cloud/spring-cloud-circuitbreaker Spring Cloud Circuit breaker提供了一个跨越不同断路器实现的抽象。它提供了一个一致的API，可以在你的应用程序中使用，允许你的开发者选择最适合你的应用程序需求的断路器实现。
1. 使用说明 Spring Cloud CircuitBreaker项目包含Resilience4J和Spring Retry的实现。Spring Cloud CircuitBreaker中实现的API在Spring Cloud Commons中存在。这些API的使用文档位于Spring Cloud Commons documentation中。
1.1. 配置Resilience4J断路器 1.1.1. Starters Resilience4J的实现有两个启动器，一个用于reactive应用，一个用于非reactive应用。
org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j - 非reactive应用程序 org.springframework.cloud:spring-cloud-starter-circuitbreaker-reactor-resilience4j - reactive应用程序 1.1.2. 自动配置 你可以通过设置spring.cloud.circuitbreaker.resilience4j.enabled为false来禁用Resilience4J自动配置。
1.1.3. 默认配置 为了给所有的断路器提供一个默认的配置，创建一个Customize bean，它被传递给Resilience4JCircuitBreakerFactory或ReactiveResilience4JCircuitBreakerFactory。configureDefault方法可以用来提供一个默认的配置。
@Bean public Customizer&amp;lt;Resilience4JCircuitBreakerFactory&amp;gt; defaultCustomizer() { return factory -&amp;gt; factory.configureDefault(id -&amp;gt; new Resilience4JConfigBuilder(id) .timeLimiterConfig(TimeLimiterConfig.custom().timeoutDuration(Duration.ofSeconds(4)).build()) .circuitBreakerConfig(CircuitBreakerConfig.ofDefaults()) .build()); } Reactive Example
@Bean public Customizer&amp;lt;ReactiveResilience4JCircuitBreakerFactory&amp;gt; defaultCustomizer() { return factory -&amp;gt; factory.configureDefault(id -&amp;gt; new Resilience4JConfigBuilder(id) .</description></item><item><title>Spring Cloud Netflix</title><link>https://www.springcloud.io/docs/springcloud/spring-cloud-netflix/</link><pubDate>Thu, 12 Nov 2020 13:26:54 +0100</pubDate><guid>https://www.springcloud.io/docs/springcloud/spring-cloud-netflix/</guid><description>当前版本：3.0.3 修改时间：2021年7月22日 官方文档：https://docs.spring.io/spring-cloud-netflix/docs/current/reference/html/ 源码仓库：https://github.com/spring-cloud/spring-cloud-netflix Spring Cloud Netflix通过自动配置和绑定到Spring环境和其他Spring编程模型习语，为Spring Boot应用提供了Netflix OSS集成。通过一些简单的注释，您可以在应用程序中快速启用和配置通用模式，并使用经过实战考验的Netflix组件构建大型分布式系统。提供的模式包括服务发现(Eureka)、断路器(Hystrix)、智能路由(Zuul)和客户端负载均衡(Ribbon)。
1 服务发现：Eureka客户端 服务发现是基于微服务的体系结构的关键原则之一。尝试手动配置每个客户端或某种形式的约定可能很困难，而且可能易挂。Netflix的服务发现器和客户端Eureka，可以将服务器配置和部署为高可用性，每个服务器都可以将已注册服务的状态复制给其他服务器。
1.1 如何引入Eureka客户端 要在项目中包含Eureaka Client，请使用start中gruop ID为org.springframework.cloud和artifact ID为spring-cloud-starter-netflix-eureka-client的包，有关使用Spring cloud设置构建系统的详细信息，请参阅Spring Cloud Project 页面。
1.2 向Eureka注册服务 当客户端向Eureka注册时，它会提供关于自身的元数据，例如主机、端口、健康状态URl、主页和其他详细信息。Eureka接收来自属于某个服务的每个实例的心跳消息。如果在可配置的时间内检测心跳失败，实例客户端通常会从注册中心删除。
下面的例子展示了一个最小的Eureka客户端应用程序:
@SpringBootApplication @RestController public class Application { @RequestMapping(&amp;#34;/&amp;#34;) public String home() { return &amp;#34;Hello world&amp;#34;; } public static void main(String[] args) { new SpringApplicationBuilder(Application.class).web(true).run(args); } } 注意，上面的示例只是一个普通的Spring Boot应用程序。通过包管理文件引入spring-cloud-starter-netflix-Eureka-client依赖，你的应用程序将自动注册到Eureka Server。定位 Eureka服务器需要配置，如下面的例子所示:
application.yml
eureka:client:serviceUrl:defaultZone:http://localhost:8761/eureka/在前面的示例中，defaultZone 是一个缺省字符串回调值，它为任何不填写注册中心地址的客户端提供一个默认值。(换句话说：不填此项，eureka使用http://localhost:8761/eureka/作为默认地址)
📍 这个defaultZone属性是区分大小写的，并且需要驼峰命令法，因为serviceUrl属性是Map&amp;lt;String, String&amp;gt;。因此，defaultZone属性不遵循常规Spring Boot蛇形命名法约定。
默认的应用程序名称(即服务 ID)、虚拟主机和非安全端口(取自环境)分别为${ spring.application.name }、${ spring.</description></item></channel></rss>